<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{fragments/layout}">
<head th:with="layoutTitle='회원정보입력'">
	<link rel="stylesheet" th:href="@{/css/oauth2/join.css}">
</head>
<body>
	<div layout:fragment="content">
		<h1 class="text-center mb-4">회원정보입력</h1>
		
		<div class="container mb-5" style="max-width: 600px;">
			<form name="oauth2JoinForm" class="d-flex flex-column justify-content-center gap-4 border border-dark p-4">
				<input type="hidden" name="provider" th:value="${provider}" />
				<input type="hidden" name="providerId" th:value="${providerId}" />
				<input type="hidden" name="memberEmail" th:if="${email != null}" th:value="${email}" />
				<input type="hidden" name="memberName" th:if="${name != null}" th:value="${name}" />
				<input type="hidden" name="memberBirth" th:if="${birth != null}" th:value="${birth}" />
				<input type="hidden" name="memberTel" th:if="${mobile != null}" th:value="${mobile}" />
				
				<div>
					<div class="input-wrap d-flex align-items-center">
						<label for="memberId" style="width: 110px;">아이디</label>
						<input class="flex-fill" type="text" id="memberId" name="memberId" placeholder="아이디 입력" required>
					</div>
					<div class="input-wrap d-flex align-items-center">
						<div style="width: 110px;"></div>
						<div id="idCheckMessage"></div>
					</div>	
				</div>
				<div th:if="${name == null}">
					<div class="input-wrap d-flex align-items-center">
						<label for="memberName" style="width: 110px;">이름</label>
						<input class="flex-fill" type="text" id="memberName" name="memberName" placeholder="이름 입력" required>
					</div>
				</div>
				<div th:if="${mobile == null}">
					<div class="input-wrap d-flex align-items-center">
						<label for="memberTel" style="width: 110px;">전화번호</label>
						<input class="flex-fill" type="tel" id="memberTel" name="memberTel" placeholder="전화번호 입력" required>
					</div>
					<div class="input-wrap d-flex align-items-center">
						<div style="width: 110px;"></div>
						<div style="color: gray; font-size: 0.8em;">* (-) 하이픈을 빼고 입력해주세요.</div>
					</div>
				</div>
				<div th:if="${birth == null}">
					<div class="input-wrap d-flex align-items-center">
						<label for="memberBirth" style="width: 110px;">생년월일</label>
						<input class="flex-fill" type="date" id="memberBirth" name="memberBirth" required>
					</div>
				</div>
				<div th:if="${email == null}" class="email-input-wrap">
					<div class="input-wrap d-flex align-items-center">
						<label for="memberEmail" style="width: 110px;">이메일</label>
						<input class="flex-fill" type="email" id="memberEmail" name="memberEmail" placeholder="이메일 입력" required>
					</div>
					<div class="input-wrap d-flex align-items-center">
						<div class="d-inline-block" style="width: 110px;"></div>
						<div id="emailCheckMessage"></div>
					</div>
				</div>
				<div class="input-wrap d-flex flex-column">
					<label style="font-weight: bold;">개인정보 수집·이용 동의</label>
					<div id="privacyBox">
						<b>[개인정보 수집·이용 동의]</b><br><br>
						1. 수집 항목<br>
						- 필수정보: 아이디, 이름, 전화번호, 생년월일, 이메일<br><br>
				
						2. 수집 목적<br>
						- 회원 가입 의사 확인, 본인 식별·인증, 서비스 제공 및 상담<br><br>
				
						3. 보유 및 이용 기간<br>
						- 회원 탈퇴 시까지 (단, 법령에 따라 보존 시 해당 기간까지)<br><br>
				
						4. 귀하는 개인정보 수집·이용에 동의하지 않을 권리가 있으며,<br>
						&nbsp;&nbsp;동의 거부 시 회원가입이 제한될 수 있습니다.
					</div>
					<div class="info-input-wrap d-flex align-items-center">
						<input type="checkbox" id="memberInfoCheck" name="memberInfoCheck" disabled required>
						<label for="memberInfoCheck">위 내용을 읽고 동의합니다.</label>
					</div>
				</div>

				<div class="d-flex align-items-center justify-content-center">
					<button class="text-nowrap bg-white border border-black px-3 py-2" type="button" onclick="fu_oauth2Join()">회원가입</button>
				</div>
			</form>
		</div>
	
		<!-- 회원가입 버튼 -->
		<script th:src="@{/js/oauth2/join/fu_oauth2Join.js}"></script>
		<!-- 경고문구 초기화 -->
		<script th:src="@{/js/oauth2/join/fu_warnCheck.js}"></script>
		<!-- 개인정보 수집동의 유효성 체크 -->
		<script th:src="@{/js/oauth2/join/fu_infoCheckValidation.js}"></script>
		<!-- 이메일 유효성 체크 -->
		<script th:src="@{/js/oauth2/join/fu_emailValidation.js}"></script>
		<!-- 생년월일 유효성 체크 -->
		<script th:src="@{/js/oauth2/join/fu_birthValidation.js}"></script>
		<!-- 전화번호 유효성 체크 -->
		<script th:src="@{/js/oauth2/join/fu_telValidation.js}"></script>
		<!-- 이름 유효성 체크 -->
		<script th:src="@{/js/oauth2/join/fu_nameValidation.js}"></script>
		<!-- 아이디 유효성 체크 -->
		<script th:src="@{/js/oauth2/join/fu_idValidation.js}"></script>
		<!-- 개인정보 스크롤 이벤트 -->
		<script th:src="@{/js/oauth2/join/ev_infoCheck.js}"></script>
		<!-- 이메일 중복 확인 이벤트 -->
		<script th:src="@{/js/oauth2/join/ev_emailCheck.js}"></script>
		<!-- 아이디 중복 확인 이벤트 -->
		<script th:src="@{/js/oauth2/join/ev_idCheck.js}"></script>
	</div>
</body>
</html>